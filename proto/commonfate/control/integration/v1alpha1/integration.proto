syntax = "proto3";
package commonfate.control.integration.v1alpha1;

import "commonfate/control/integration/v1alpha1/gcp.proto";
import "commonfate/control/integration/v1alpha1/aws_idc.proto";

service IntegrationService {
    rpc CreateIntegration(CreateIntegrationRequest) returns (CreateIntegrationResponse) {}
    rpc UpdateIntegration(UpdateIntegrationRequest) returns (UpdateIntegrationResponse) {}
    rpc DeleteIntegration(DeleteIntegrationRequest) returns (DeleteIntegrationResponse) {}


    rpc GetGCPIntegration(GetGCPIntegrationRequest) returns (GetGCPIntegrationResponse) {}
    rpc GetAWSIDCIntegration(GetAWSIDCIntegrationRequest) returns (GetAWSIDCIntegrationResponse) {}
}


message CreateIntegrationRequest {
    string name = 1;
    oneof integration {
        GCP gcp = 2;
        AWSIDC aws_idc = 3;
    }
}


message CreateIntegrationResponse {
    string id = 1;
}


message UpdateIntegrationRequest {
    string id = 1;
    string name = 2;
    oneof integration {
        GCP gcp = 3;
        AWSIDC aws_idc = 4;
    }
}

message UpdateIntegrationResponse {
    string id = 1;
}


message DeleteIntegrationRequest {
    string id = 1;
}

message DeleteIntegrationResponse {
    string id = 1;
}


message GetGCPIntegrationRequest {
    string id = 1;
}

message GetGCPIntegrationResponse {
    GCP gcp = 1;
    string name = 2;
}


message GetAWSIDCIntegrationRequest {
    string id = 1;
}

message GetAWSIDCIntegrationResponse {
    AWSIDC aws_idc = 1;
    string name = 2;
}
syntax = "proto3";
package commonfate.control.config.v1alpha1;

import "commonfate/authz/v1alpha1/read_only.proto";

service EKSClusterService {
  rpc CreateEKSCluster(CreateEKSClusterRequest) returns (CreateEKSClusterResponse) {}
  rpc GetEKSCluster(GetEKSClusterRequest) returns (GetEKSClusterResponse) {
    option (commonfate.authz.v1alpha1.read_only) = true;
  }
  rpc UpdateEKSCluster(UpdateEKSClusterRequest) returns (UpdateEKSClusterResponse) {}
  rpc DeleteEKSCluster(DeleteEKSClusterRequest) returns (DeleteEKSClusterResponse) {}
}

message CreateEKSClusterRequest {
  string name = 1;
  string region = 2;
  string aws_account_id = 3;
  // The EKS integration ID used to provision access to the cluster.
  string integration_id = 4;
}

message EKSCluster {
  string id = 1;
  string arn = 2;
  string name = 3;
  string region = 4;
  string aws_account_id = 5;
  // The EKS integration ID used to provision access to the cluster.
  string integration_id = 6;
}

message CreateEKSClusterResponse {
  EKSCluster cluster = 1;
}

message GetEKSClusterRequest {
  string id = 1;
}

message GetEKSClusterResponse {
  EKSCluster cluster = 1;
}

message UpdateEKSClusterRequest {
  EKSCluster cluster = 1;
}

message UpdateEKSClusterResponse {
  EKSCluster cluster = 1;
}

message DeleteEKSClusterRequest {
  string id = 1;
}

message DeleteEKSClusterResponse {
  string id = 1;
}
